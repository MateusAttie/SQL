-- Generated by Oracle SQL Developer Data Modeler 4.0.3.853
--   at:        2015-10-20 10:02:50 BRST
--   site:      Oracle Database 11g
--   type:      Oracle Database 11g




CREATE
  TABLE Artista
  (
    cod_artista      NUMBER (5) NOT NULL ,
    nome             VARCHAR2 (200) ,
    data_nasc        DATE ,
    data_morte       DATE ,
    país_de_origem   VARCHAR2 (200) NOT NULL ,
    periodo          VARCHAR2 (300) NOT NULL ,
    Estilo_Principal VARCHAR2 (200) NOT NULL ,
    Descrição        VARCHAR2 (300) NOT NULL
  ) ;
ALTER TABLE Artista ADD CONSTRAINT Artista_PK PRIMARY KEY ( cod_artista ) ;
ALTER TABLE Artista ADD CONSTRAINT Artista__UN UNIQUE ( nome ) ;

CREATE
  TABLE Coleção_Permanente
  (
    Cod_Objeto_Arte NUMBER (5) NOT NULL ,
    cod_cp          NUMBER (5) NOT NULL ,
    data_aquisição  DATE NOT NULL ,
    data_emprestimo DATE NOT NULL ,
    estado          VARCHAR2 (200) NOT NULL ,
    custo           NUMBER (4,40) NOT NULL ,
    data_devolução  DATE NOT NULL
  ) ;
ALTER TABLE Coleção_Permanente ADD CONSTRAINT Coleção_Permanente_PKv1 PRIMARY
KEY ( cod_cp ) ;
ALTER TABLE Coleção_Permanente ADD CONSTRAINT Coleção_Permanente_PK UNIQUE (
Cod_Objeto_Arte ) ;

CREATE
  TABLE Escultura
  (
    cod_escultura NUMBER (5) NOT NULL ,
    material      VARCHAR2 (100) NOT NULL ,
    altura        NUMBER (2,4) NOT NULL ,
    peso          NUMBER (2,4) NOT NULL ,
    estilo        VARCHAR2 (200) NOT NULL
  ) ;
ALTER TABLE Escultura ADD CONSTRAINT Escultura_PK PRIMARY KEY ( cod_escultura )
;

CREATE
  TABLE Estatuaria
  (
    cod_estatuaria NUMBER (5) NOT NULL ,
    material       VARCHAR2 (100) NOT NULL ,
    altura         NUMBER (2,4) NOT NULL ,
    peso           NUMBER (2,4) NOT NULL ,
    estilo         VARCHAR2 (200) NOT NULL
  ) ;
ALTER TABLE Estatuaria ADD CONSTRAINT Estatuaria_PK PRIMARY KEY (
cod_estatuaria ) ;

CREATE
  TABLE Exposicoes
  (
    cod_exp     NUMBER (5) NOT NULL ,
    nome_exp    VARCHAR2 (100) NOT NULL ,
    data_inicio DATE NOT NULL ,
    data_fim    DATE NOT NULL
  ) ;
ALTER TABLE Exposicoes ADD CONSTRAINT Exposicoes_PK PRIMARY KEY ( cod_exp ) ;

CREATE
  TABLE Objetos_Arte
  (
    Cod_Objeto_Arte             NUMBER (5) NOT NULL ,
    Artista                     VARCHAR2 (100) ,
    Ano                         DATE NOT NULL ,
    Titulo                      VARCHAR2 (150) NOT NULL ,
    Descrição                   VARCHAR2 (250) NOT NULL ,
    País                        VARCHAR2 (150) NOT NULL ,
    Origem                      VARCHAR2 (150) NOT NULL ,
    Período                     VARCHAR2 (250) NOT NULL ,
    Exposicoes_cod_exp          NUMBER (5) ,
    Artista_cod_artista         NUMBER (5) NOT NULL ,
    Coleção_Permanente_cod_cp   NUMBER (5) ,
    Outras_Coleções_cod_coleção NUMBER (5) ,
    Pintura_cod_pintura         NUMBER (5) ,
    Escultura_cod_escultura     NUMBER (5) ,
    Outros_cod_outro            NUMBER (5) ,
    Estatuaria_cod_estatuaria   NUMBER (5)
  ) ;
ALTER TABLE Objetos_Arte ADD CONSTRAINT FKArc_5 CHECK ( ( (
Coleção_Permanente_cod_cp IS NOT NULL) AND
(
  Outras_Coleções_cod_coleção IS NULL
)
) OR
(
  (
    Outras_Coleções_cod_coleção IS NOT NULL
  )
  AND
  (
    Coleção_Permanente_cod_cp IS NULL
  )
)
OR
(
  (
    Coleção_Permanente_cod_cp IS NULL
  )
  AND
  (
    Outras_Coleções_cod_coleção IS NULL
  )
)
) ;
ALTER TABLE Objetos_Arte ADD CONSTRAINT FKArc_6 CHECK ( ( (Pintura_cod_pintura
IS NOT NULL) AND
(
  Escultura_cod_escultura IS NULL
)
AND
(
  Estatuaria_cod_estatuaria IS NULL
)
AND
(
  Outros_cod_outro IS NULL
)
) OR
(
  (
    Escultura_cod_escultura IS NOT NULL
  )
  AND
  (
    Pintura_cod_pintura IS NULL
  )
  AND
  (
    Estatuaria_cod_estatuaria IS NULL
  )
  AND
  (
    Outros_cod_outro IS NULL
  )
)
OR
(
  (
    Estatuaria_cod_estatuaria IS NOT NULL
  )
  AND
  (
    Pintura_cod_pintura IS NULL
  )
  AND
  (
    Escultura_cod_escultura IS NULL
  )
  AND
  (
    Outros_cod_outro IS NULL
  )
)
OR
(
  (
    Outros_cod_outro IS NOT NULL
  )
  AND
  (
    Pintura_cod_pintura IS NULL
  )
  AND
  (
    Escultura_cod_escultura IS NULL
  )
  AND
  (
    Estatuaria_cod_estatuaria IS NULL
  )
)
OR
(
  (
    Pintura_cod_pintura IS NULL
  )
  AND
  (
    Escultura_cod_escultura IS NULL
  )
  AND
  (
    Estatuaria_cod_estatuaria IS NULL
  )
  AND
  (
    Outros_cod_outro IS NULL
  )
)
) ;
ALTER TABLE Objetos_Arte ADD CONSTRAINT Objetos_Arte_PK PRIMARY KEY (
Cod_Objeto_Arte ) ;

CREATE
  TABLE Outras_Coleções
  (
    Cod_Objeto_Arte NUMBER (5) NOT NULL ,
    cod_coleção     NUMBER (5) NOT NULL ,
    nome            VARCHAR2 (200) NOT NULL ,
    tipo            VARCHAR2 (200) NOT NULL ,
    descrição       VARCHAR2 (300) NOT NULL ,
    endereço        VARCHAR2 (300) NOT NULL ,
    telefone        NUMBER (9,40) NOT NULL
  ) ;
ALTER TABLE Outras_Coleções ADD CONSTRAINT Outras_Coleções_PKv1 PRIMARY KEY (
cod_coleção ) ;
ALTER TABLE Outras_Coleções ADD CONSTRAINT Outras_Coleções_PK UNIQUE (
Cod_Objeto_Arte ) ;
ALTER TABLE Outras_Coleções ADD CONSTRAINT Outras_Coleções__UN UNIQUE ( nome )
;

CREATE
  TABLE Outros
  (
    cod_outro NUMBER (5) NOT NULL ,
    tipo      VARCHAR2 (100) NOT NULL ,
    estilo    VARCHAR2 (200) NOT NULL
  ) ;
ALTER TABLE Outros ADD CONSTRAINT Outros_PK PRIMARY KEY ( cod_outro ) ;

CREATE
  TABLE Pintura
  (
    cod_pintura NUMBER (5) NOT NULL ,
    tipo_tinta  VARCHAR2(100) NOT NULL ,
    suporte     VARCHAR2 (100) NOT NULL ,
    estilo      VARCHAR2 (200) NOT NULL
  ) ;
ALTER TABLE Pintura ADD CONSTRAINT Pintura_PK PRIMARY KEY ( cod_pintura ) ;


ALTER TABLE Coleção_Permanente ADD CONSTRAINT
Coleção_Perm_Obj_Art_FK FOREIGN KEY ( Cod_Objeto_Arte ) REFERENCES
Objetos_Arte ( Cod_Objeto_Arte ) ;

ALTER TABLE Objetos_Arte ADD CONSTRAINT Objetos_Arte_Artista_FK FOREIGN KEY (
Artista_cod_artista ) REFERENCES Artista ( cod_artista ) ;


ALTER TABLE Objetos_Arte ADD CONSTRAINT Objetos_Arte_Col_Perm_FK
FOREIGN KEY ( Coleção_Permanente_cod_cp ) REFERENCES Coleção_Permanente (
cod_cp ) ;

ALTER TABLE Objetos_Arte ADD CONSTRAINT Objetos_Arte_Escultura_FK FOREIGN KEY (
Escultura_cod_escultura ) REFERENCES Escultura ( cod_escultura ) ;

ALTER TABLE Objetos_Arte ADD CONSTRAINT Objetos_Arte_Estatuaria_FK FOREIGN KEY
( Estatuaria_cod_estatuaria ) REFERENCES Estatuaria ( cod_estatuaria ) ;

ALTER TABLE Objetos_Arte ADD CONSTRAINT Objetos_Arte_Exposicoes_FK FOREIGN KEY
( Exposicoes_cod_exp ) REFERENCES Exposicoes ( cod_exp ) ;


ALTER TABLE Objetos_Arte ADD CONSTRAINT Objetos_Art_Out_Col_FK FOREIGN
KEY ( Outras_Coleções_cod_coleção ) REFERENCES Outras_Coleções ( cod_coleção )
;

ALTER TABLE Objetos_Arte ADD CONSTRAINT Objetos_Arte_Outros_FK FOREIGN KEY (
Outros_cod_outro ) REFERENCES Outros ( cod_outro ) ;

ALTER TABLE Objetos_Arte ADD CONSTRAINT Objetos_Arte_Pintura_FK FOREIGN KEY (
Pintura_cod_pintura ) REFERENCES Pintura ( cod_pintura ) ;


ALTER TABLE Outras_Coleções ADD CONSTRAINT Out_Col_Obj_Art_FK
FOREIGN KEY ( Cod_Objeto_Arte ) REFERENCES Objetos_Arte ( Cod_Objeto_Arte ) ;


-- Oracle SQL Developer Data Modeler Summary Report: 
-- 
-- CREATE TABLE                             9
-- CREATE INDEX                             0
-- ALTER TABLE                             25
-- CREATE VIEW                              0
-- CREATE PACKAGE                           0
-- CREATE PACKAGE BODY                      0
-- CREATE PROCEDURE                         0
-- CREATE FUNCTION                          0
-- CREATE TRIGGER                           0
-- ALTER TRIGGER                            0
-- CREATE COLLECTION TYPE                   0
-- CREATE STRUCTURED TYPE                   0
-- CREATE STRUCTURED TYPE BODY              0
-- CREATE CLUSTER                           0
-- CREATE CONTEXT                           0
-- CREATE DATABASE                          0
-- CREATE DIMENSION                         0
-- CREATE DIRECTORY                         0
-- CREATE DISK GROUP                        0
-- CREATE ROLE                              0
-- CREATE ROLLBACK SEGMENT                  0
-- CREATE SEQUENCE                          0
-- CREATE MATERIALIZED VIEW                 0
-- CREATE SYNONYM                           0
-- CREATE TABLESPACE                        0
-- CREATE USER                              0
-- 
-- DROP TABLESPACE                          0
-- DROP DATABASE                            0
-- 
-- REDACTION POLICY                         0
-- 
-- ERRORS                                   4
-- WARNINGS                                 0
